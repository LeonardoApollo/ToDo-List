!function(){"use strict";const t=document.querySelector("#form"),e=document.querySelector("#taskInput"),n=document.querySelector("#taskList"),i=(document.querySelector("#emptyList"),document.querySelector(".card__main"));let s=[];function o(){if(0===s.length){const t='<li id="emptyList" class="list-group__item empty-list">\n                                    <img src="icons/coffe.png" alt="Empty">\n                                    <div class="empty-list__title">Список дел пуст</div>\n                                </li>';n.insertAdjacentHTML("afterbegin",t),i.classList.remove("first")}if(s.length>0){const t=document.querySelector("#emptyList");t&&t.remove(),i.classList.add("first")}}function c(){localStorage.setItem("tasks",JSON.stringify(s))}function a(t){const e=t.done?"task-item__title done":"task-item__title",i='\n                <li id="'.concat(t.id,'" class="list-group__item task-item">\n                    <span class="').concat(e,'">').concat(t.text,'</span>\n                    <div class="task-item__buttons">\n                        <button type="button" data-action="done" class="btn-action">\n                            <img src="icons/accept.png" alt="Done">\n                        </button>\n                        <button type="button" data-action="delete" class="btn-action">\n                            <img src="icons/denied.png" alt="Done">\n                        </button>\n                    </div>\n                </li>');n.insertAdjacentHTML("beforeend",i)}localStorage.getItem("tasks")&&(s=JSON.parse(localStorage.getItem("tasks")),s.forEach((t=>a(t)))),o(),e.oninput=()=>{" "===e.value.charAt(0)&&(e.value="")},t.addEventListener("submit",(function(t){if(t.preventDefault(),""==e.value.trim())return;const n=e.value,i={id:Date.now(),text:n,done:!1};s.push(i),c(),a(i),e.value="",e.focus(),o()})),n.addEventListener("click",(function(t){if("delete"!==t.target.dataset.action)return;const e=t.target.closest("li"),n=Number(e.id),i=s.findIndex((t=>t.id===n));s.splice(i,1),c(),e.remove(),o()})),n.addEventListener("click",(function(t){if("done"!==t.target.dataset.action)return;const e=t.target.closest("li"),n=Number(e.id),i=s.find((t=>t.id===n));i.done=!i.done,c();e.querySelector(".task-item__title").classList.toggle("done");e.querySelector(".btn-action").blur()}))}();